- id: notification_garage
  alias: Notification - garage
  description: ''
  trigger:
  - platform: state
    entity_id:
    - person.jason
    - person.christina
    from: home
    to: not_home
  condition:
  - condition: state
    entity_id: binary_sensor.garage_door_13
    state: 'on'
  action:
  - service: notify.devices
    data:
      title: Garage door
      message: '{{ "Someone" if trigger.to_state is undefined else trigger.to_state.attributes.friendly_name
        }} left home and the door is open.'
  mode: single
- id: lights_on_sunset
  alias: Lights on - sunset
  description: ''
  trigger:
  - platform: sun
    event: sunset
    offset: 0
  condition: []
  action:
  - service: light.turn_on
    data: {}
    target:
      entity_id:
      - light.back_outside_63
      - light.front_outside_54
      - light.side_outside_61
      - light.random_plug
  mode: single
- id: lights_off_sunrise
  alias: Lights off - sunrise
  description: ''
  trigger:
  - platform: sun
    event: sunrise
    offset: 0
  condition: []
  action:
  - service: light.turn_off
    data: {}
    target:
      entity_id:
      - light.back_outside_63
      - light.front_outside_54
      - light.side_outside_61
      - light.random_plug
  mode: single
- id: lights_off_midnight
  alias: Lights off - midnight
  description: ''
  trigger:
  - platform: time
    at: 00:00:00
  condition: []
  action:
  - service: light.turn_off
    data: {}
    target:
      entity_id: light.random_plug
  mode: single
- id: thermostat_home
  alias: Thermostat - home
  description: ''
  trigger:
  - platform: numeric_state
    entity_id: zone.home
    for:
      hours: 0
      minutes: 1
      seconds: 0
    above: '0'
  condition: []
  action:
  - device_id: c04b21ba8b2647aab4729b24b902f2b4
    domain: climate
    entity_id: climate.thermostat
    type: set_preset_mode
    preset_mode: Home
  mode: single
- id: thermostat_away
  alias: Thermostat - away
  description: ''
  trigger:
  - platform: numeric_state
    entity_id: zone.home
    for:
      hours: 0
      minutes: 1
      seconds: 0
    below: '1'
  condition: []
  action:
  - device_id: c04b21ba8b2647aab4729b24b902f2b4
    domain: climate
    entity_id: climate.thermostat
    type: set_preset_mode
    preset_mode: Away
  mode: single
- id: notification_front_door
  alias: Notification - front door
  description: ''
  trigger:
  - platform: state
    entity_id:
    - person.jason
    - person.christina
    from: home
    to: not_home
  condition:
  - condition: state
    entity_id: lock.front_door_55
    state: unlocked
  action:
  - service: notify.devices
    data:
      title: Front door
      message: '{{ "Someone" if trigger.to_state is undefined else trigger.to_state.attributes.friendly_name
        }} left home and the door is unlocked.'
  mode: single
